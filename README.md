# Portfolio REST API

![PHP](https://img.shields.io/badge/php-8.2-blue.svg)
![Laravel](https://img.shields.io/badge/laravel-12.x-blue.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)

API RESTful developed with Laravel 12 and PHP 8.3 to manage the content of a blog or portfolio. It provides endpoints for managing posts, categories, tags, and user authentication through Laravel Passport.

## Features

- **Authentication:** Token-based registration and login system with Laravel Passport.
- **Post Management:** Endpoints for listing, searching, and filtering posts.
- **Taxonomy:** Filtering of posts by category, tag, and author.
- **API Documentation:** Automatically generated with `l5-swagger`.
- **Best Practices:** Organized project structure, following Laravel conventions.

---

## Installation

Follow these steps to set up the local development environment.

### Prerequisites

- PHP 8.2 or higher
- Composer
- A database server (e.g., MySQL, MariaDB)
- Node.js and NPM (optional, for the frontend)

### Steps

1. **Clone the repository**

   ```bash
   git clone <your-git-repository> portfolio-api
   cd portfolio-api
   ```

2. **Install dependencies**

   ```bash
   composer install
   npm install
   ```

3. **Configure the environment**
   Copy the example `.env.example` file and configure it according to your needs.

   ```bash
   copy .env.example .env
   ```

   Generate the application key:

   ```bash
   php artisan key:generate
   ```

   Make sure to correctly configure the database connection (`DB_*`) and the application URL (`APP_URL`) in your `.env` file.

4. **Install Laravel Passport**
   This command will create the necessary encryption keys to generate access tokens.

   ```bash
   php artisan passport:install
   ```

5. **Run migrations and seeders**
   This will create the database structure and fill it with sample data.

   ```bash
   php artisan migrate --seed
   ```

6. **Create the storage symbolic link**

   ```bash
   php artisan storage:link
   ```

7. **Start the server**
   You can use the Artisan development server:
   ```bash
   php artisan serve
   ```
   The API will be available at `http://127.0.0.1:8000`.

---

## Running Tests

To run the test suite, use the following command:

```bash
php artisan test
```

---

## API Endpoints

The available API endpoints are detailed below.

### Interactive Documentation

For complete and up-to-date documentation, you can visit the route generated by Swagger once the server is running:

- **URL:** [`/api/documentation`](/api/documentation)

### Authentication

| Method | URI | Name | Description |
| :--- | :--- | :--- | :--- |
| `POST` | `/api/v1/register` | `register` | Registers a new user. |
| `POST` | `/api/v1/login` | `login` | Logs in and obtains a token. |
| `POST` | `/api/v1/logout` | `logout` | Logs out the user (Requires Auth). |
| `GET` | `/api/v1/user` | `user` | Gets the authenticated user's information. |

**Email Verification**

| Method | URI | Name | Description |
| :--- | :--- | :--- | :--- |
| `GET` | `/api/v1/email/verify/{id}/{hash}` | `verification.verify` | Verifies the user's email. |
| `POST` | `/api/v1/email/resend` | `verification.send` | Resends the verification email. |

**Password Reset**

| Method | URI | Name | Description |
| :--- | :--- | :--- | :--- |
| `POST` | `/api/v1/password/forgot` | `password.forgot` | Sends a password reset link to the user. |
| `POST` | `/api/v1/password/reset` | `password.reset` | Resets the user's password. |

### Posts

All post routes require authentication.

| Method | URI | Name | Description |
| :--- | :--- | :--- | :--- |
| `GET` | `/api/v1/posts/summary` | `posts.summary` | Gets a summary with the latest and most viewed posts. |
| `GET` | `/api/v1/posts` | `posts.index` | Gets a paginated list of all posts. |
| `GET` | `/api/v1/posts/search` | `posts.search` | Searches for posts by term, category, author, or tag. |
| `GET` | `/api/v1/posts/{slug}` | `posts.show` | Gets a specific post by its slug. |
| `GET` | `/api/v1/posts/category/{category:slug}`| `posts.byCategory` | Gets the posts of a specific category. |
| `GET` | `/api/v1/posts/tag/{tag:slug}` | `posts.byTag` | Gets the posts associated with a specific tag. |
| `GET` | `/api/v1/posts/user/{user}` | `posts.byUser` | Gets the posts of a specific user. |

**Pagination and Search Parameters (Query Params):**

- `page` (int): Page number to retrieve.
- `per_page` (int): Number of results per page.
- `q` (string): Search term for the `/api/v1/posts/search` endpoint.
- `category` (int): ID of the category to filter in `/api/v1/posts/search`.
- `tag` (int): ID of the tag to filter in `/api/v1/posts/search`.
- `author` (int): ID of the author to filter in `/api/v1/posts/search`.

### Menu

| Method | URI | Name | Description |
| :--- | :--- | :--- | :--- |
| `GET` | `/api/v1/menus/{menu:id}` | `menus.index` | Gets the structure of a specific menu. |

### Test User
name     = Administrador
email    = admin@user.com
password = admin123

---

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for more details.
